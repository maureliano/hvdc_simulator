{
  "query": "\nDROP TABLE IF EXISTS iff_alarm_events CASCADE;\nDROP TABLE IF EXISTS iff_alarm_thresholds CASCADE;\nDROP TABLE IF EXISTS iff_test_events CASCADE;\nDROP TABLE IF EXISTS iff_test_results CASCADE;\nDROP TABLE IF EXISTS simulation_results CASCADE;\nDROP TABLE IF EXISTS circuit_configs CASCADE;\nDROP TABLE IF EXISTS users CASCADE;\n\n-- Create users table\nCREATE TABLE users (\n  id SERIAL PRIMARY KEY,\n  \"openId\" VARCHAR(255) NOT NULL UNIQUE,\n  name VARCHAR(255),\n  email VARCHAR(255),\n  \"loginMethod\" VARCHAR(50),\n  role VARCHAR(20) NOT NULL DEFAULT 'user',\n  \"createdAt\" TIMESTAMP NOT NULL DEFAULT CURRENT_TIMESTAMP,\n  \"updatedAt\" TIMESTAMP NOT NULL DEFAULT CURRENT_TIMESTAMP,\n  \"lastSignedIn\" TIMESTAMP NOT NULL DEFAULT CURRENT_TIMESTAMP\n);\n\n-- Create circuit_configs table\nCREATE TABLE circuit_configs (\n  id SERIAL PRIMARY KEY,\n  \"userId\" INTEGER NOT NULL,\n  name VARCHAR(255) NOT NULL,\n  description TEXT,\n  \"ac1Voltage\" DOUBLE PRECISION NOT NULL DEFAULT 345.0,\n  \"ac2Voltage\" DOUBLE PRECISION NOT NULL DEFAULT 230.0,\n  \"dcVoltage\" DOUBLE PRECISION NOT NULL DEFAULT 422.84,\n  \"powerMva\" DOUBLE PRECISION NOT NULL DEFAULT 1196.0,\n  \"loadMw\" DOUBLE PRECISION NOT NULL DEFAULT 1000.0,\n  \"createdAt\" TIMESTAMP NOT NULL DEFAULT CURRENT_TIMESTAMP,\n  \"updatedAt\" TIMESTAMP NOT NULL DEFAULT CURRENT_TIMESTAMP\n);\n\n-- Create simulation_results table\nCREATE TABLE simulation_results (\n  id SERIAL PRIMARY KEY,\n  \"userId\" INTEGER NOT NULL,\n  \"circuitConfigId\" INTEGER,\n  \"ac1Voltage\" DOUBLE PRECISION NOT NULL,\n  \"ac2Voltage\" DOUBLE PRECISION NOT NULL,\n  \"dcVoltage\" DOUBLE PRECISION NOT NULL,\n  \"loadMw\" DOUBLE PRECISION NOT NULL,\n  convergence INTEGER NOT NULL DEFAULT 1,\n  \"busAc1VoltageKv\" DOUBLE PRECISION,\n  \"busAc2VoltageKv\" DOUBLE PRECISION,\n  \"busDc1VoltageKv\" DOUBLE PRECISION,\n  \"busDc2VoltageKv\" DOUBLE PRECISION,\n  \"transformer1PMw\" DOUBLE PRECISION,\n  \"transformer1QMvar\" DOUBLE PRECISION,\n  \"transformer2PMw\" DOUBLE PRECISION,\n  \"transformer2QMvar\" DOUBLE PRECISION,\n  \"totalLossMw\" DOUBLE PRECISION,\n  \"transformer1Loss\" DOUBLE PRECISION,\n  \"transformer2Loss\" DOUBLE PRECISION,\n  \"overallEfficiency\" DOUBLE PRECISION,\n  \"executionTimeMs\" INTEGER,\n  \"createdAt\" TIMESTAMP NOT NULL DEFAULT CURRENT_TIMESTAMP\n);\n\n-- Create iff_test_results table\nCREATE TABLE iff_test_results (\n  id SERIAL PRIMARY KEY,\n  user_id INTEGER,\n  test_name VARCHAR(255) NOT NULL,\n  scenario_type VARCHAR(100) NOT NULL,\n  state_fidelity DOUBLE PRECISION NOT NULL,\n  dynamics_fidelity DOUBLE PRECISION NOT NULL,\n  energy_fidelity DOUBLE PRECISION NOT NULL,\n  stability_fidelity DOUBLE PRECISION NOT NULL,\n  overall_iff_score DOUBLE PRECISION NOT NULL,\n  system_trustworthiness VARCHAR(50) NOT NULL,\n  agentic_decision VARCHAR(100) NOT NULL,\n  execution_time INTEGER NOT NULL,\n  full_results TEXT,\n  created_at TIMESTAMP NOT NULL DEFAULT CURRENT_TIMESTAMP,\n  updated_at TIMESTAMP NOT NULL DEFAULT CURRENT_TIMESTAMP\n);\n\n-- Create iff_test_events table\nCREATE TABLE iff_test_events (\n  id SERIAL PRIMARY KEY,\n  \"testResultId\" INTEGER NOT NULL,\n  \"eventType\" VARCHAR(100) NOT NULL,\n  metric VARCHAR(100) NOT NULL,\n  value DOUBLE PRECISION NOT NULL,\n  threshold DOUBLE PRECISION,\n  status VARCHAR(50) NOT NULL,\n  \"createdAt\" TIMESTAMP NOT NULL DEFAULT CURRENT_TIMESTAMP\n);\n\n-- Create iff_alarm_thresholds table\nCREATE TABLE iff_alarm_thresholds (\n  id SERIAL PRIMARY KEY,\n  \"userId\" INTEGER,\n  \"metricName\" VARCHAR(100) NOT NULL,\n  \"criticalThreshold\" DOUBLE PRECISION NOT NULL,\n  \"warningThreshold\" DOUBLE PRECISION NOT NULL,\n  enabled INTEGER NOT NULL DEFAULT 1,\n  \"createdAt\" TIMESTAMP NOT NULL DEFAULT CURRENT_TIMESTAMP,\n  \"updatedAt\" TIMESTAMP NOT NULL DEFAULT CURRENT_TIMESTAMP\n);\n\n-- Create iff_alarm_events table\nCREATE TABLE iff_alarm_events (\n  id SERIAL PRIMARY KEY,\n  \"userId\" INTEGER,\n  \"testResultId\" INTEGER,\n  \"thresholdId\" INTEGER,\n  \"metricName\" VARCHAR(100) NOT NULL,\n  \"metricValue\" DOUBLE PRECISION NOT NULL,\n  threshold DOUBLE PRECISION NOT NULL,\n  severity VARCHAR(20) NOT NULL,\n  status VARCHAR(20) NOT NULL,\n  message TEXT,\n  \"acknowledgedAt\" TIMESTAMP,\n  \"acknowledgedBy\" VARCHAR(255),\n  \"resolvedAt\" TIMESTAMP,\n  \"resolvedBy\" VARCHAR(255),\n  \"resolutionNotes\" TEXT,\n  \"createdAt\" TIMESTAMP NOT NULL DEFAULT CURRENT_TIMESTAMP,\n  \"updatedAt\" TIMESTAMP NOT NULL DEFAULT CURRENT_TIMESTAMP\n);\n\n-- Create indexes for better query performance\nCREATE INDEX idx_iff_test_results_user_id ON iff_test_results(user_id);\nCREATE INDEX idx_iff_test_results_created_at ON iff_test_results(created_at);\nCREATE INDEX idx_simulation_results_user_id ON simulation_results(\"userId\");\nCREATE INDEX idx_circuit_configs_user_id ON circuit_configs(\"userId\");\n",
  "command": "mysql --batch --raw --column-names --default-character-set=utf8mb4 --host gateway03.us-east-1.prod.aws.tidbcloud.com --port 4000 --user a2ya4k4rhwDCTEU.root --database cFoihuGuKYC49R2biJBbR9 --execute \nDROP TABLE IF EXISTS iff_alarm_events CASCADE;\nDROP TABLE IF EXISTS iff_alarm_thresholds CASCADE;\nDROP TABLE IF EXISTS iff_test_events CASCADE;\nDROP TABLE IF EXISTS iff_test_results CASCADE;\nDROP TABLE IF EXISTS simulation_results CASCADE;\nDROP TABLE IF EXISTS circuit_configs CASCADE;\nDROP TABLE IF EXISTS users CASCADE;\n\n-- Create users table\nCREATE TABLE users (\n  id SERIAL PRIMARY KEY,\n  \"openId\" VARCHAR(255) NOT NULL UNIQUE,\n  name VARCHAR(255),\n  email VARCHAR(255),\n  \"loginMethod\" VARCHAR(50),\n  role VARCHAR(20) NOT NULL DEFAULT 'user',\n  \"createdAt\" TIMESTAMP NOT NULL DEFAULT CURRENT_TIMESTAMP,\n  \"updatedAt\" TIMESTAMP NOT NULL DEFAULT CURRENT_TIMESTAMP,\n  \"lastSignedIn\" TIMESTAMP NOT NULL DEFAULT CURRENT_TIMESTAMP\n);\n\n-- Create circuit_configs table\nCREATE TABLE circuit_configs (\n  id SERIAL PRIMARY KEY,\n  \"userId\" INTEGER NOT NULL,\n  name VARCHAR(255) NOT NULL,\n  description TEXT,\n  \"ac1Voltage\" DOUBLE PRECISION NOT NULL DEFAULT 345.0,\n  \"ac2Voltage\" DOUBLE PRECISION NOT NULL DEFAULT 230.0,\n  \"dcVoltage\" DOUBLE PRECISION NOT NULL DEFAULT 422.84,\n  \"powerMva\" DOUBLE PRECISION NOT NULL DEFAULT 1196.0,\n  \"loadMw\" DOUBLE PRECISION NOT NULL DEFAULT 1000.0,\n  \"createdAt\" TIMESTAMP NOT NULL DEFAULT CURRENT_TIMESTAMP,\n  \"updatedAt\" TIMESTAMP NOT NULL DEFAULT CURRENT_TIMESTAMP\n);\n\n-- Create simulation_results table\nCREATE TABLE simulation_results (\n  id SERIAL PRIMARY KEY,\n  \"userId\" INTEGER NOT NULL,\n  \"circuitConfigId\" INTEGER,\n  \"ac1Voltage\" DOUBLE PRECISION NOT NULL,\n  \"ac2Voltage\" DOUBLE PRECISION NOT NULL,\n  \"dcVoltage\" DOUBLE PRECISION NOT NULL,\n  \"loadMw\" DOUBLE PRECISION NOT NULL,\n  convergence INTEGER NOT NULL DEFAULT 1,\n  \"busAc1VoltageKv\" DOUBLE PRECISION,\n  \"busAc2VoltageKv\" DOUBLE PRECISION,\n  \"busDc1VoltageKv\" DOUBLE PRECISION,\n  \"busDc2VoltageKv\" DOUBLE PRECISION,\n  \"transformer1PMw\" DOUBLE PRECISION,\n  \"transformer1QMvar\" DOUBLE PRECISION,\n  \"transformer2PMw\" DOUBLE PRECISION,\n  \"transformer2QMvar\" DOUBLE PRECISION,\n  \"totalLossMw\" DOUBLE PRECISION,\n  \"transformer1Loss\" DOUBLE PRECISION,\n  \"transformer2Loss\" DOUBLE PRECISION,\n  \"overallEfficiency\" DOUBLE PRECISION,\n  \"executionTimeMs\" INTEGER,\n  \"createdAt\" TIMESTAMP NOT NULL DEFAULT CURRENT_TIMESTAMP\n);\n\n-- Create iff_test_results table\nCREATE TABLE iff_test_results (\n  id SERIAL PRIMARY KEY,\n  user_id INTEGER,\n  test_name VARCHAR(255) NOT NULL,\n  scenario_type VARCHAR(100) NOT NULL,\n  state_fidelity DOUBLE PRECISION NOT NULL,\n  dynamics_fidelity DOUBLE PRECISION NOT NULL,\n  energy_fidelity DOUBLE PRECISION NOT NULL,\n  stability_fidelity DOUBLE PRECISION NOT NULL,\n  overall_iff_score DOUBLE PRECISION NOT NULL,\n  system_trustworthiness VARCHAR(50) NOT NULL,\n  agentic_decision VARCHAR(100) NOT NULL,\n  execution_time INTEGER NOT NULL,\n  full_results TEXT,\n  created_at TIMESTAMP NOT NULL DEFAULT CURRENT_TIMESTAMP,\n  updated_at TIMESTAMP NOT NULL DEFAULT CURRENT_TIMESTAMP\n);\n\n-- Create iff_test_events table\nCREATE TABLE iff_test_events (\n  id SERIAL PRIMARY KEY,\n  \"testResultId\" INTEGER NOT NULL,\n  \"eventType\" VARCHAR(100) NOT NULL,\n  metric VARCHAR(100) NOT NULL,\n  value DOUBLE PRECISION NOT NULL,\n  threshold DOUBLE PRECISION,\n  status VARCHAR(50) NOT NULL,\n  \"createdAt\" TIMESTAMP NOT NULL DEFAULT CURRENT_TIMESTAMP\n);\n\n-- Create iff_alarm_thresholds table\nCREATE TABLE iff_alarm_thresholds (\n  id SERIAL PRIMARY KEY,\n  \"userId\" INTEGER,\n  \"metricName\" VARCHAR(100) NOT NULL,\n  \"criticalThreshold\" DOUBLE PRECISION NOT NULL,\n  \"warningThreshold\" DOUBLE PRECISION NOT NULL,\n  enabled INTEGER NOT NULL DEFAULT 1,\n  \"createdAt\" TIMESTAMP NOT NULL DEFAULT CURRENT_TIMESTAMP,\n  \"updatedAt\" TIMESTAMP NOT NULL DEFAULT CURRENT_TIMESTAMP\n);\n\n-- Create iff_alarm_events table\nCREATE TABLE iff_alarm_events (\n  id SERIAL PRIMARY KEY,\n  \"userId\" INTEGER,\n  \"testResultId\" INTEGER,\n  \"thresholdId\" INTEGER,\n  \"metricName\" VARCHAR(100) NOT NULL,\n  \"metricValue\" DOUBLE PRECISION NOT NULL,\n  threshold DOUBLE PRECISION NOT NULL,\n  severity VARCHAR(20) NOT NULL,\n  status VARCHAR(20) NOT NULL,\n  message TEXT,\n  \"acknowledgedAt\" TIMESTAMP,\n  \"acknowledgedBy\" VARCHAR(255),\n  \"resolvedAt\" TIMESTAMP,\n  \"resolvedBy\" VARCHAR(255),\n  \"resolutionNotes\" TEXT,\n  \"createdAt\" TIMESTAMP NOT NULL DEFAULT CURRENT_TIMESTAMP,\n  \"updatedAt\" TIMESTAMP NOT NULL DEFAULT CURRENT_TIMESTAMP\n);\n\n-- Create indexes for better query performance\nCREATE INDEX idx_iff_test_results_user_id ON iff_test_results(user_id);\nCREATE INDEX idx_iff_test_results_created_at ON iff_test_results(created_at);\nCREATE INDEX idx_simulation_results_user_id ON simulation_results(\"userId\");\nCREATE INDEX idx_circuit_configs_user_id ON circuit_configs(\"userId\");\n",
  "returncode": 1,
  "logs": [
    "ERROR 1064 (42000) at line 11: You have an error in your SQL syntax; check the manual that corresponds to your TiDB version for the right syntax to use line 3 column 11 near \"\"openId\" VARCHAR(255) NOT NULL UNIQUE,",
    "  name VARCHAR(255),",
    "  email VARCHAR(255),",
    "  \"loginMethod\" VARCHAR(50),",
    "  role VARCHAR(20) NOT NULL DEFAULT 'user',",
    "  \"createdAt\" TIMESTAMP NOT NULL DEFAULT CURRENT_TIMESTAMP,",
    "  \"updatedAt\" TIMESTAMP NOT NULL DEFAULT CURRENT_TIMESTAMP,",
    "  \"lastSignedIn\" TIMESTAMP NOT NULL DEFAULT CURRENT_TIMESTAMP",
    ")\""
  ]
}